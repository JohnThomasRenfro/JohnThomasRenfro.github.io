<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hangul to English Pronunciation</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        textarea { width: 100%; height: 100px; }
        button { padding: 10px 20px; font-size: 16px; }
        pre { background: #f4f4f4; padding: 10px; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>Hangul to English Pronunciation</h1>
    <textarea id="hangulInput" placeholder="Paste Hangul text here"></textarea><br>
    <button onclick="processHangul()">Process</button>
    <pre id="output"></pre>

    <script>
        const hangulMap = {
            initial: ['g', 'kk', 'n', 'd', 'tt', 'r', 'm', 'b', 'pp', 's', 'ss', 'ng', 'j', 'jj', 'ch', 'k', 't', 'p', 'h'],
            vowels: ['a', 'ae', 'ya', 'yae', 'eo', 'e', 'yeo', 'ye', 'o', 'oe', 'yo', 'yu', 'eu', 'i'],
            final: ['', 'g', 'gg', 'gs', 'n', 'nj', 'nh', 'd', 'l', 'lg', 'lm', 'lb', 'ls', 'lt', 'lp', 'lh', 'm', 'b', 'bs', 's', 'ss', 'ng', 'j', 'ch', 'k', 't', 'p', 'h']
        };

        // Function to process Hangul input
        function processHangul() {
            const hangul = document.getElementById("hangulInput").value;
            const output = document.getElementById("output");
            output.textContent = "";  // Clear previous output

            if (!hangul) {
                output.textContent = "Please enter Hangul text!";
                return;
            }

            const syllables = decomposeHangul(hangul);
            syllables.forEach(syllable => {
                const pronunciation = syllable.map((el, idx) => `${el}(${getPronunciation(idx, el)})`).join(' ');
                output.textContent += `${syllable[0]} => ${pronunciation}\n`;
            });
        }

        // Function to decompose Hangul into its components
        function decomposeHangul(text) {
            const syllables = [];
            for (let i = 0; i < text.length; i++) {
                const charCode = text.charCodeAt(i) - 0xAC00;
                if (charCode < 0) continue;  // Skip non-Hangul characters

                const initial = Math.floor(charCode / (21 * 28));
                const vowel = Math.floor((charCode % (21 * 28)) / 28);
                const final = charCode % 28;

                syllables.push([initial, vowel, final]);
            }
            return syllables;
        }

        // Get pronunciation from index and component value
        function getPronunciation(type, index) {
            if (type === 0) {  // Initial consonant
                return hangulMap.initial[index] || '';
            } else if (type === 1) {  // Vowel
                return hangulMap.vowels[index] || '';
            } else if (type === 2) {  // Final consonant
                return hangulMap.final[index] || '';
            }
            return '';
        }
    </script>
</body>
</html>
